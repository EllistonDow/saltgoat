MM_SQLSETTINGS_DRIVERNAME=postgres
MM_SQLSETTINGS_DATASOURCE=postgres://{{ db_user }}:{{ db_password }}@mattermost-db:5432/{{ db_name }}?sslmode=disable&connect_timeout=10
MM_SERVICESETTINGS_SITEURL={{ site_url }}
MM_SERVICESETTINGS_ENABLEAPPCACHING=true
MM_PLUGINSETTINGS_ENABLE=true
MM_TEAMSETTINGS_SITENAME=Mattermost
MM_ADMIN_USERNAME={{ admin_username }}
MM_ADMIN_PASSWORD={{ admin_password }}
MM_ADMIN_EMAIL={{ admin_email }}

MM_FILESETTINGS_DRIVERNAME={{ file_driver }}
MM_FILESETTINGS_DIRECTORY=/mattermost/data

{% if smtp_enabled %}
MM_EMAILSETTINGS_SENDEMAIL=true
MM_EMAILSETTINGS_SMTPDENYHTTPS=false
MM_EMAILSETTINGS_SMTPUSERNAME={{ smtp_username }}
MM_EMAILSETTINGS_SMTPPASSWORD={{ smtp_password }}
MM_EMAILSETTINGS_SMTPSERVER={{ smtp_host }}
MM_EMAILSETTINGS_SMTPPORT={{ smtp_port }}
MM_EMAILSETTINGS_SMTPENABLESTARTTLS={{ smtp_tls }}
MM_EMAILSETTINGS_ENABLESMTPAUTH={{ smtp_auth }}
MM_EMAILSETTINGS_FEEDBACKEMAIL={{ smtp_from }}
MM_EMAILSETTINGS_REPLYTOADDRESS={{ smtp_from }}
{% else %}
MM_EMAILSETTINGS_SENDEMAIL=false
{% endif %}

{% for key, value in extra_env.items() %}
{{ key }}={{ value }}
{% endfor %}
